/* analytics.js-core 3.8.2-1 */
var analytics=function(){"use strict";var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var i=t(function(t){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}(t.exports=r).prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r)for(var n=0,o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),a=t(function(t){function o(u){return function(n,o,t,e){var i,a=e&&function(t){return"function"==typeof t}(e.normalizer)?e.normalizer:c;o=a(o);for(var s=!1;!s;)r();function r(){for(i in n){var t=a(i);if(0===o.indexOf(t)){var e=o.substr(t.length);if("."===e.charAt(0)||0===e.length){o=e.substr(1);var r=n[i];return null==r?void(s=!0):o.length?void(n=r):void(s=!0)}}}s=!(i=void 0)}if(i)return null==n?n:u(n,i,t)}}function n(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function i(t,e,r){return t.hasOwnProperty(e)&&(t[e]=r),t}function c(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}t.exports=o(function(t,e){if(t.hasOwnProperty(e))return t[e]}),t.exports.find=t.exports,t.exports.replace=function(t,e,r,n){return o(i).call(this,t,e,r,n),t},t.exports.del=function(t,e,r){return o(n).call(this,t,e,null,r),t}}),e=(a.find,a.replace,a.del,t(function(t){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}})),r=Object.prototype.toString,c=function(t){switch(r.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!=t?"nan":t&&1===t.nodeType?"element":function(t){return!(null==t||!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}(t)?"buffer":typeof(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t))};function n(t){return p.date(t)?t:p.number(t)?new Date(function(t){return t<315576e5?1e3*t:t}(t)):y(t)?h(t):v(t)?m(t):b(t)?w(t):new Date(t)}var s=function t(e){var r=c(e);if("object"===r){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=t(e[o]));return n}if("array"===r){n=new Array(e.length);for(var i=0,a=e.length;i<a;i++)n[i]=t(e[i]);return n}if("regexp"!==r)return"date"===r?new Date(e.getTime()):e;var s="";return s+=e.multiline?"m":"",s+=e.global?"g":"",s+=e.ignoreCase?"i":"",new RegExp(e.source,s)},o={inherit:e,clone:s,type:c},u={Salesforce:!0},p=t(function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o=r.toString;"function"==typeof Symbol&&(e=Symbol.prototype.valueOf);function i(t){return t!=t}var a={boolean:1,number:1,string:1,undefined:1},s=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,u=/^[A-Fa-f0-9]+$/,c=t.exports={};c.a=c.type=function(t,e){return typeof t===e},c.defined=function(t){return void 0!==t},c.empty=function(t){var e,r=o.call(t);if("[object Array]"===r||"[object Arguments]"===r||"[object String]"===r)return 0===t.length;if("[object Object]"!==r)return!t;for(e in t)if(n.call(t,e))return!1;return!0},c.equal=function(t,e){if(t===e)return!0;var r,n=o.call(t);if(n!==o.call(e))return!1;if("[object Object]"===n){for(r in t)if(!(c.equal(t[r],e[r])&&r in e))return!1;for(r in e)if(!(c.equal(t[r],e[r])&&r in t))return!1;return!0}if("[object Array]"!==n)return"[object Function]"===n?t.prototype===e.prototype:"[object Date]"===n&&t.getTime()===e.getTime();if((r=t.length)!==e.length)return!1;for(;--r;)if(!c.equal(t[r],e[r]))return!1;return!0},c.hosted=function(t,e){var r=typeof e[t];return"object"==r?!!e[t]:!a[r]},c.instance=c.instanceof=function(t,e){return t instanceof e},c.nil=c.null=function(t){return null===t},c.undef=c.undefined=function(t){return void 0===t},c.args=c.arguments=function(t){var e="[object Arguments]"===o.call(t),r=!c.array(t)&&c.arraylike(t)&&c.object(t)&&c.fn(t.callee);return e||r},c.array=Array.isArray||function(t){return"[object Array]"===o.call(t)},c.args.empty=function(t){return c.args(t)&&0===t.length},c.array.empty=function(t){return c.array(t)&&0===t.length},c.arraylike=function(t){return!!t&&!c.bool(t)&&n.call(t,"length")&&isFinite(t.length)&&c.number(t.length)&&0<=t.length},c.bool=c.boolean=function(t){return"[object Boolean]"===o.call(t)},c.false=function(t){return c.bool(t)&&!1===Boolean(Number(t))},c.true=function(t){return c.bool(t)&&!0===Boolean(Number(t))},c.date=function(t){return"[object Date]"===o.call(t)},c.element=function(t){return void 0!==t&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&1===t.nodeType},c.error=function(t){return"[object Error]"===o.call(t)},c.fn=c.function=function(t){return"undefined"!=typeof window&&t===window.alert||"[object Function]"===o.call(t)},c.number=function(t){return"[object Number]"===o.call(t)},c.infinite=function(t){return t===1/0||t===-1/0},c.decimal=function(t){return c.number(t)&&!i(t)&&!c.infinite(t)&&t%1!=0},c.divisibleBy=function(t,e){var r=c.infinite(t),n=c.infinite(e),o=c.number(t)&&!i(t)&&c.number(e)&&!i(e)&&0!==e;return r||n||o&&t%e==0},c.integer=c.int=function(t){return c.number(t)&&!i(t)&&t%1==0},c.maximum=function(t,e){if(i(t))throw new TypeError("NaN is not a valid value");if(!c.arraylike(e))throw new TypeError("second argument must be array-like");for(var r=e.length;0<=--r;)if(t<e[r])return!1;return!0},c.minimum=function(t,e){if(i(t))throw new TypeError("NaN is not a valid value");if(!c.arraylike(e))throw new TypeError("second argument must be array-like");for(var r=e.length;0<=--r;)if(t>e[r])return!1;return!0},c.nan=function(t){return!c.number(t)||t!=t},c.even=function(t){return c.infinite(t)||c.number(t)&&t==t&&t%2==0},c.odd=function(t){return c.infinite(t)||c.number(t)&&t==t&&t%2!=0},c.ge=function(t,e){if(i(t)||i(e))throw new TypeError("NaN is not a valid value");return!c.infinite(t)&&!c.infinite(e)&&e<=t},c.gt=function(t,e){if(i(t)||i(e))throw new TypeError("NaN is not a valid value");return!c.infinite(t)&&!c.infinite(e)&&e<t},c.le=function(t,e){if(i(t)||i(e))throw new TypeError("NaN is not a valid value");return!c.infinite(t)&&!c.infinite(e)&&t<=e},c.lt=function(t,e){if(i(t)||i(e))throw new TypeError("NaN is not a valid value");return!c.infinite(t)&&!c.infinite(e)&&t<e},c.within=function(t,e,r){if(i(t)||i(e)||i(r))throw new TypeError("NaN is not a valid value");if(!c.number(t)||!c.number(e)||!c.number(r))throw new TypeError("all arguments must be numbers");return c.infinite(t)||c.infinite(e)||c.infinite(r)||e<=t&&t<=r},c.object=function(t){return"[object Object]"===o.call(t)},c.hash=function(t){return c.object(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval},c.regexp=function(t){return"[object RegExp]"===o.call(t)},c.string=function(t){return"[object String]"===o.call(t)},c.base64=function(t){return c.string(t)&&(!t.length||s.test(t))},c.hex=function(t){return c.string(t)&&(!t.length||u.test(t))},c.symbol=function(t){return"function"==typeof Symbol&&"[object Symbol]"===o.call(t)&&"symbol"==typeof e.call(t)}}),f=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/,h=function(t){var e=[1,5,6,7,11,12],r=f.exec(t),n=0;if(!r)return new Date(t);for(var o,i=0;o=e[i];i++)r[o]=parseInt(r[o],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?n=(new Date).getTimezoneOffset():"Z"!==r[9]&&r[10]&&(n=60*r[11]+r[12],"+"===r[10]&&(n=0-n));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+n,r[7],r[8]);return new Date(a)},y=function(t,e){return(!e||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&f.test(t)},d=/\d{13}/,v=function(t){return d.test(t)},m=function(t){return t=parseInt(t,10),new Date(t)},g=/\d{10}/,b=function(t){return g.test(t)},w=function(t){var e=1e3*parseInt(t,10);return new Date(e)};var _=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/,x={parse:function(t){var e=[1,5,6,7,11,12],r=_.exec(t),n=0;if(!r)return new Date(t);for(var o,i=0;o=e[i];i++)r[o]=parseInt(r[o],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0," "===r[4]?n=(new Date).getTimezoneOffset():"Z"!==r[9]&&r[10]&&(n=60*r[11]+r[12],"+"===r[10]&&(n=0-n));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+n,r[7],r[8]);return new Date(a)},is:function(t,e){return"string"==typeof t&&((!e||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&_.test(t))}},j=k;function k(t,e){return void 0===e&&(e=!0),"object"===c(t)?function(e,r){return Object.keys(e).forEach(function(t){e[t]=k(e[t],r)}),e}(t,e):"array"===c(t)?function(r,n){return r.forEach(function(t,e){r[e]=k(t,n)}),r}(t,e):x.is(t,e)?x.parse(t):t}var I,O=o.clone,E=o.type;function A(t,e){"clone"in(e=e||{})||(e.clone=!0),e.clone&&(t=O(t)),"traverse"in e||(e.traverse=!0),t.timestamp="timestamp"in t?n(t.timestamp):new Date,e.traverse&&j(t),this.opts=e,this.obj=t}function T(r,n){return function(){var t=this.traits(),e=this.properties?this.properties():{};return a(t,"address."+r)||a(t,r)||(n?a(t,"address."+n):null)||(n?a(t,n):null)||a(e,"address."+r)||a(e,r)||(n?a(e,"address."+n):null)||(n?a(e,n):null)}}function S(t){return O(t)}A.prototype.proxy=function(t){var e=t.split("."),r=this[t=e.shift()]||this.field(t);return r?("function"==typeof r&&(r=r.call(this)||{}),0===e.length||(r=a(r,e.join("."))),this.opts.clone?S(r):r):r},A.prototype.field=function(t){var e=this.obj[t];return this.opts.clone?S(e):e},A.proxy=function(t){return function(){return this.proxy(t)}},A.field=function(t){return function(){return this.field(t)}},A.multi=function(r){return function(){var t=this.proxy(r+"s");if("array"===E(t))return t;var e=this.proxy(r);return(e=e&&[this.opts.clone?O(e):e])||[]}},A.one=function(r){return function(){var t=this.proxy(r);if(t)return t;var e=this.proxy(r+"s");return"array"===E(e)?e[0]:void 0}},A.prototype.json=function(){var t=this.opts.clone?O(this.obj):this.obj;return this.type&&(t.type=this.type()),t},A.prototype.context=A.prototype.options=function(t){var e=this.obj.options||this.obj.context||{},r=this.opts.clone?O(e):e;if(!t)return r;if(this.enabled(t)){var n=this.integrations(),o=n[t]||a(n,t);return"object"!=typeof o&&(o=a(this.options(),t)),"object"==typeof o?o:{}}},A.prototype.enabled=function(t){var e=this.proxy("options.providers.all");"boolean"!=typeof e&&(e=this.proxy("options.all")),"boolean"!=typeof e&&(e=this.proxy("integrations.all")),"boolean"!=typeof e&&(e=!0);var r=e&&function(t){return!u[t]}(t),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)&&(r=n.providers[t]),n.hasOwnProperty(t)){var o=n[t];r="boolean"!=typeof o||o}return!!r},A.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},A.prototype.active=function(){var t=this.proxy("options.active");return null==t&&(t=!0),t},A.prototype.sessionId=A.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},A.prototype.groupId=A.proxy("options.groupId"),A.prototype.traits=function(t){var e=this.proxy("options.traits")||{},r=this.userId();for(var n in t=t||{},r&&(e.id=r),t){var o=null==this[n]?this.proxy("options.traits."+n):this[n]();null!=o&&(e[t[n]]=o,delete e[n])}return e},A.prototype.library=function(){var t=this.proxy("options.library");return t?"string"==typeof t?{name:t,version:null}:t:{name:"unknown",version:null}},A.prototype.device=function(){var t=this.proxy("context.device");"object"!==E(t)&&(t={});var e=this.library().name;return t.type||(-1<e.indexOf("ios")&&(t.type="ios"),-1<e.indexOf("android")&&(t.type="android")),t},A.prototype.userAgent=A.proxy("context.userAgent"),A.prototype.timezone=A.proxy("context.timezone"),A.prototype.timestamp=A.field("timestamp"),A.prototype.channel=A.field("channel"),A.prototype.ip=A.proxy("context.ip"),A.prototype.userId=A.field("userId"),(I=A.prototype).zip=T("postalCode","zip"),I.country=T("country"),I.street=T("street"),I.state=T("state"),I.city=T("city"),I.region=T("region");var z=A;function C(t,e){z.call(this,t,e)}(0,o.inherit)(C,z),C.prototype.type=C.prototype.action=function(){return"alias"},C.prototype.from=C.prototype.previousId=function(){return this.field("previousId")||this.field("from")},C.prototype.to=C.prototype.userId=function(){return this.field("userId")||this.field("to")};function N(t){return/.+\@.+\..+/.test(t)}var L=C;function D(t,e){z.call(this,t,e)}(0,o.inherit)(D,z),D.prototype.type=D.prototype.action=function(){return"group"},D.prototype.groupId=z.field("groupId"),D.prototype.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return n(t)},D.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();return N(e)?e:void 0},D.prototype.traits=function(t){var e=this.properties(),r=this.groupId();for(var n in t=t||{},r&&(e.id=r),t){var o=null==this[n]?this.proxy("traits."+n):this[n]();null!=o&&(e[t[n]]=o,delete e[n])}return e},D.prototype.name=z.proxy("traits.name"),D.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}};var P=D,q=t(function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}});q.left,q.right;function $(t,e){z.call(this,t,e)}(0,o.inherit)($,z),$.prototype.type=$.prototype.action=function(){return"identify"},$.prototype.traits=function(t){var e=this.field("traits")||{},r=this.userId();for(var n in t=t||{},r&&(e.id=r),t){var o=null==this[n]?this.proxy("traits."+n):this[n]();null!=o&&(e[t[n]]=o,n!==t[n]&&delete e[n])}return e},$.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();return N(e)?e:void 0},$.prototype.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return n(t)},$.prototype.name=function(){var t=this.proxy("traits.name");if("string"==typeof t)return q(t)},$.prototype.uid=function(){return this.userId()||this.username()||this.email()},$.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},$.prototype.avatar=function(){var t=this.traits();return a(t,"avatar")||a(t,"photoUrl")||a(t,"avatarUrl")},$.prototype.username=z.proxy("traits.username");var B=$;function M(t,e){z.call(this,t,e)}(0,o.inherit)(M,z),M.prototype.type=M.prototype.action=function(){return"track"},M.prototype.event=z.field("event"),M.prototype.value=z.proxy("properties.value"),M.prototype.category=z.proxy("properties.category"),M.prototype.id=z.proxy("properties.id"),M.prototype.name=z.proxy("properties.name"),M.prototype.description=z.proxy("properties.description"),M.prototype.plan=z.proxy("properties.plan"),M.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},M.prototype.query=z.proxy("options.query"),M.prototype.properties=function(t){var e=this.field("properties")||{};for(var r in t=t||{}){var n=null==this[r]?this.proxy("properties."+r):this[r]();null!=n&&(e[t[r]]=n,delete e[r])}return e},M.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},M.prototype.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();return N(e)?e:void 0},M.prototype.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event();return!t&&e&&e.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(t=this.proxy("properties.total")),function(t){if(!t)return;if("number"==typeof t)return t;if("string"!=typeof t)return;if(t=t.replace(/\$/g,""),t=parseFloat(t),!isNaN(t))return t}(t)},M.prototype.identify=function(){var t=this.json();return t.traits=this.traits(),new B(t,this.opts)};var F=M;function R(t,e){z.call(this,t,e)}(0,o.inherit)(R,z),R.prototype.type=R.prototype.action=function(){return"page"},R.prototype.category=z.field("category"),R.prototype.name=z.field("name"),R.prototype.title=z.proxy("properties.title"),R.prototype.path=z.proxy("properties.path"),R.prototype.url=z.proxy("properties.url"),R.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},R.prototype.properties=function(t){var e=this.field("properties")||{},r=this.category(),n=this.name();for(var o in t=t||{},r&&(e.category=r),n&&(e.name=n),t){var i=null==this[o]?this.proxy("properties."+o):this[o]();null!=i&&(e[t[o]]=i,o!==t[o]&&delete e[o])}return e},R.prototype.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();return N(e)?e:void 0},R.prototype.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e},R.prototype.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"},R.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new F(e,this.opts)};var Z=R;function U(t,e){Z.call(this,t,e)}(0,o.inherit)(U,Z),U.prototype.type=U.prototype.action=function(){return"screen"},U.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"},U.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new F(e,this.opts)};var J=U;function H(t,e){z.call(this,t,e)}(0,o.inherit)(H,z),H.prototype.type=function(){return"delete"};var V=H;z.Alias=L,z.Group=P,z.Identify=B,z.Track=F,z.Page=Z,z.Screen=J,z.Delete=V;function W(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=et.call(arguments,2);return function(){return e.apply(t,r.concat(et.call(arguments)))}}var X=z,K=Object.prototype.toString,G=[function(t){return function(){return t.apply(this,arguments)}},function(e){return function(t){return e.apply(this,arguments)}},function(r){return function(t,e){return r.apply(this,arguments)}},function(n){return function(t,e,r){return n.apply(this,arguments)}},function(o){return function(t,e,r,n){return o.apply(this,arguments)}},function(i){return function(t,e,r,n,o){return i.apply(this,arguments)}}],Q=function(t,e){if(!function(t){return"function"==typeof t}(e))throw new TypeError("Expected a function but got "+typeof e);return t=Math.max(function(t){var e=typeof t;return"number"==e||"object"==e&&"[object Number]"===K.call(t)}(t)?t:0,0),G[t]||(G[t]=function(t){var e=function(t){for(var e=[],r=1;r<=t;r+=1)e.push("arg"+r);return e}(t).join(", "),r="".concat("  return function(",e,") {\n","    return func.apply(this, arguments);\n","  };");return new Function("func",r)}(t)),G[t](e)},Y=Object.prototype.toString,tt=function(t,e){if(!function(t){var e=typeof t;return"number"==e||"object"==e&&"[object Number]"===Y.call(t)}(t))throw new TypeError("Expected a number but received "+typeof t);if(!function(t){return"function"==typeof t}(e))throw new TypeError("Expected a function but received "+typeof e);var r=0;return Q(e.length,function(){if(!((r+=1)<t))return e.apply(this,arguments)})},et=[].slice;function rt(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===ut.call(t)}function nt(t){if(!t||"[object Object]"!==ut.call(t))return!1;var e,r=st.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&st.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;for(e in t);return void 0===e||st.call(t,e)}function ot(t,e){var r,n,o,i,a,s,u=t,c=1,p=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=e||{},c=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});c<p;++c)if(null!=(r=arguments[c]))for(n in r)o=u[n],u!==(i=r[n])&&(l&&i&&(nt(i)||(a=rt(i)))?(s=a?(a=!1,o&&rt(o)?o:[]):o&&nt(o)?o:{},u[n]=ot(l,s,i)):void 0!==i&&(u[n]=i));return u}function it(t,e,r){switch(arguments.length){case 3:case 2:return function(t,e,r){r=r||{};var n=pt(t)+"="+pt(e);null==e&&(r.maxage=-1);r.maxage&&(r.expires=new Date(+new Date+r.maxage));r.path&&(n+="; path="+r.path);r.domain&&(n+="; domain="+r.domain);r.expires&&(n+="; expires="+r.expires.toUTCString());r.secure&&(n+="; secure");document.cookie=n}(t,e,r);case 1:return function(t){return ct()[t]}(t);default:return ct()}}var at=function(t){for(var e in t){"function"==typeof t[e]&&(t[e]=W(t,t[e]))}return t},st=Object.prototype.hasOwnProperty,ut=Object.prototype.toString;function ct(){var t;try{t=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return function(t){var e,r={},n=t.split(/ *; */);if(""==n[0])return r;for(var o=0;o<n.length;++o)e=n[o].split("="),r[lt(e[0])]=lt(e[1]);return r}(t)}function pt(t){try{return encodeURIComponent(t)}catch(t){console.error(t)}}function lt(t){try{return decodeURIComponent(t)}catch(t){console.error(t)}}function ft(t){return Boolean(t)&&"[object Object]"===wt.call(t)}function ht(t,e,r,n){return bt.call(e,n)&&void 0===t[n]&&(t[n]=r),e}function yt(t,e){if(!function(t){return Boolean(t)&&"object"==typeof t}(e))return e;t=t||ht;for(var r=vt(2,arguments),n=0;n<r.length;n+=1)for(var o in r[n])t(e,r[n],r[n][o],o);return e}var dt=Math.max,vt=function(t,e){var r=e?e.length:0;if(!r)return[];for(var n=dt(Number(t)||0,0),o=dt(r-n,0),i=new Array(o),a=0;a<o;a+=1)i[a]=e[a+n];return i},mt=Math.max,gt=function(t){if(null==t||!t.length)return[];for(var e=new Array(mt(t.length-2,0)),r=1;r<t.length;r+=1)e[r-1]=t[r];return e},bt=Object.prototype.hasOwnProperty,wt=Object.prototype.toString,_t=function(t){return yt.apply(null,[function(t,e,r,n){return bt.call(e,n)&&(ft(t[n])&&ft(r)?t[n]=_t(t[n],r):void 0===t[n]&&(t[n]=r)),e},t].concat(gt(arguments)))},xt=function(t){return yt.apply(null,[null,t].concat(gt(arguments)))},jt=_t;xt.deep=jt;var kt=t(function(t,r){r.parse=function(t){var e=document.createElement("a");return e.href=t,{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?function(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,protocol:e.protocol&&":"!=e.protocol?e.protocol:location.protocol,search:e.search,query:e.search.slice(1)}},r.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")},r.isRelative=function(t){return!r.isAbsolute(t)},r.isCrossDomain=function(t){t=r.parse(t);var e=r.parse(window.location.href);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol}}),It=(kt.parse,kt.isAbsolute,kt.isRelative,kt.isCrossDomain,t(function(t,s){var i=kt.parse;function e(t){for(var e=s.cookie,r=s.levels(t),n=0;n<r.length;++n){var o="__tld__",i=r[n],a={domain:"."+i};if(e(o,1,a),e(o))return e(o,null,a),i}return""}e.levels=function(t){var e=i(t).hostname.split("."),r=e[e.length-1],n=[];if(4===e.length&&r===parseInt(r,10))return n;if(e.length<=1)return n;for(var o=e.length-2;0<=o;--o)n.push(e.slice(o).join("."));return n},e.cookie=it,s=t.exports=e}));function Ot(t){this.options(t)}Ot.prototype.options=function(t){if(0===arguments.length)return this._options;t=t||{};var e="."+It(window.location.href);"."===e&&(e=null),this._options=xt(t,{maxage:31536e6,path:"/",domain:e}),this.set("ajs:test",!0),this.get("ajs:test")||(this._options.domain=null),this.remove("ajs:test")},Ot.prototype.set=function(t,e){try{return e=JSON.stringify(e),it(t,e,s(this._options)),!0}catch(t){return!1}},Ot.prototype.get=function(t){try{var e=it(t);return e=e?JSON.parse(e):null}catch(t){return null}},Ot.prototype.remove=function(t){try{return it(t,null,s(this._options)),!0}catch(t){return!1}};var Et=at(new Ot),At=Ot;Et.Cookie=At;function Tt(t,e){return Lt.call(t,e)}function St(t,e){return Nt.call(t,e)}function zt(t,e){e=e||St;for(var r=[],n=0,o=t.length;n<o;n+=1)e(t,n)&&r.push(String(n));return r}function Ct(t){return null!=t&&($t(t)||"function"!==t&&function(t){var e=typeof t;return"number"==e||"object"==e&&"[object Number]"===qt.call(t)}(t.length))}var Nt=Object.prototype.hasOwnProperty,Lt=String.prototype.charAt,Dt=Object.prototype.toString,Pt=function(t){return null==t?[]:function(t){return"[object String]"===Dt.call(t)}(t)?zt(t,Tt):function(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}(t)?zt(t,St):function(t,e){e=e||St;var r=[];for(var n in t)e(t,n)&&r.push(String(n));return r}(t)},qt=Object.prototype.toString,$t="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===qt.call(t)},Bt=function(t,e){return(Ct(e)?function(t,e){for(var r=0;r<e.length&&!1!==t(e[r],r,e);r+=1);}:function(t,e){for(var r=Pt(e),n=0;n<r.length&&!1!==t(e[r[n]],r[n],e);n+=1);}).call(this,t,e)},Mt=String.prototype.indexOf,Ft=function(e,t){var r=!1;return"string"==typeof t?-1!==Mt.call(t,e):(Bt(function(t){if(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(t,e))return!(r=!0)},t),r)},Rt=function(n,t){if("function"!=typeof n)throw new TypeError("Expected a function but received a "+typeof n);var o=[];return Bt(function(t,e,r){o.push(n(t,e,r))},t),o},Zt=Object.prototype.hasOwnProperty,Ut=function(t,e){var r=Rt(function(t){return t.toLowerCase()},e),n=t.options||{},o=n.integrations||{},i=n.providers||{},a=n.context||{},s={};return Bt(function(t,e){u(e)&&(Zt.call(o,e)||(o[e]=t),delete n[e])},n),delete n.providers,Bt(function(t,e){u(e)&&"object"!==c(o[e])&&(Zt.call(o,e)&&"boolean"==typeof i[e]||(o[e]=t))},i),Bt(function(t,e){Ft(e,Jt)?s[e]=n[e]:a[e]=n[e]},n),delete t.options,s.integrations=o,s.context=a,s=xt(s,t);function u(t){return!(!Ft(t,e)&&"all"!==t.toLowerCase()&&!Ft(t.toLowerCase(),r))}},Jt=["integrations","anonymousId","eventId","timestamp","context"];var Ht=function(){for(var t,e=document.getElementsByTagName("link"),r=0;t=e[r];r++)if("canonical"===t.getAttribute("rel"))return t.getAttribute("href")};var Vt=function(){return{path:function(){var t=Ht();return t?kt.parse(t).pathname:window.location.pathname}(),referrer:document.referrer,search:location.search,title:document.title,url:function(t){var e=Ht();if(e)return Ft("?",e)?e:e+t;var r=window.location.href,n=r.indexOf("#");return-1===n?r:r.slice(0,n)}(location.search)}},Wt=function(){var n,i={},t="undefined"!=typeof window?window:l,e=t.document,o="localStorage";if(i.disabled=!1,i.version="1.3.20",i.set=function(t,e){},i.get=function(t,e){},i.has=function(t){return void 0!==i.get(t)},i.remove=function(t){},i.clear=function(){},i.transact=function(t,e,r){null==r&&(r=e,e=null),null==e&&(e={});var n=i.get(t,e);r(n),i.set(t,n)},i.getAll=function(){var r={};return i.forEach(function(t,e){r[t]=e}),r},i.forEach=function(){},i.serialize=function(t){return JSON.stringify(t)},i.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},function(){try{return o in t&&t[o]}catch(t){return!1}}())n=t[o],i.set=function(t,e){return void 0===e?i.remove(t):(n.setItem(t,i.serialize(e)),e)},i.get=function(t,e){var r=i.deserialize(n.getItem(t));return void 0===r?e:r},i.remove=function(t){n.removeItem(t)},i.clear=function(){n.clear()},i.forEach=function(t){for(var e=0;e<n.length;e++){var r=n.key(e);t(r,i.get(r))}};else if(e&&e.documentElement.addBehavior){var a,r;try{(r=new ActiveXObject("htmlfile")).open(),r.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),r.close(),a=r.w.frames[0].document,n=a.createElement("div")}catch(t){n=e.createElement("div"),a=e.body}var s=function(r){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(n),a.appendChild(n),n.addBehavior("#default#userData"),n.load(o);var e=r.apply(i,t);return a.removeChild(n),e}},u=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),c=function(t){return t.replace(/^d/,"___$&").replace(u,"___")};i.set=s(function(t,e,r){return e=c(e),void 0===r?i.remove(e):(t.setAttribute(e,i.serialize(r)),t.save(o),r)}),i.get=s(function(t,e,r){e=c(e);var n=i.deserialize(t.getAttribute(e));return void 0===n?r:n}),i.remove=s(function(t,e){e=c(e),t.removeAttribute(e),t.save(o)}),i.clear=s(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(o);for(var r=e.length-1;0<=r;r--)t.removeAttribute(e[r].name);t.save(o)}),i.forEach=s(function(t,e){for(var r,n=t.XMLDocument.documentElement.attributes,o=0;r=n[o];++o)e(r.name,i.deserialize(t.getAttribute(r.name)))})}try{var p="__storejs__";i.set(p,p),i.get(p)!=p&&(i.disabled=!0),i.remove(p)}catch(t){i.disabled=!0}return i.enabled=!i.disabled,i}();function Xt(t){this.options(t)}Xt.prototype.options=function(t){if(0===arguments.length)return this._options;xt(t=t||{},{enabled:!0}),this.enabled=t.enabled&&Wt.enabled,this._options=t},Xt.prototype.set=function(t,e){return!!this.enabled&&Wt.set(t,e)},Xt.prototype.get=function(t){return this.enabled?Wt.get(t):null},Xt.prototype.remove=function(t){return!!this.enabled&&Wt.remove(t)};var Kt=at(new Xt),Gt=Xt;Kt.Store=Gt;var Qt=Object.prototype.hasOwnProperty,Yt=at(new te);function te(){this.store={}}te.prototype.set=function(t,e){return this.store[t]=s(e),!0},te.prototype.get=function(t){if(Qt.call(this.store,t))return s(this.store[t])},te.prototype.remove=function(t){return delete this.store[t],!0};var ee,re=ne;function ne(t){this.options(t),this.initialize()}if(ne.prototype.initialize=function(){if(Et.set("ajs:cookies",!0),Et.get("ajs:cookies"))return Et.remove("ajs:cookies"),void(this._storage=Et);Kt.enabled?this._storage=Kt:this._storage=Yt},ne.prototype.storage=function(){return this._storage},ne.prototype.options=function(t){if(0===arguments.length)return this._options;this._options=xt(t||{},this.defaults||{})},ne.prototype.id=function(t){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(t)}},ne.prototype._getId=function(){if(!this._options.persist)return void 0===this._id?null:this._id;var t=this._getIdFromCookie();if(t)return t;var e=this._getIdFromLocalStorage();return e?(this._setIdInCookies(e),e):null},ne.prototype._getIdFromCookie=function(){return this.storage().get(this._options.cookie.key)},ne.prototype._getIdFromLocalStorage=function(){return this._options.localStorageFallbackDisabled?null:Kt.get(this._options.cookie.key)},ne.prototype._setId=function(t){this._options.persist?(this._setIdInCookies(t),this._setIdInLocalStorage(t)):this._id=t},ne.prototype._setIdInCookies=function(t){this.storage().set(this._options.cookie.key,t)},ne.prototype._setIdInLocalStorage=function(t){this._options.localStorageFallbackDisabled||Kt.set(this._options.cookie.key,t)},ne.prototype.properties=ne.prototype.traits=function(t){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(t)}},ne.prototype._getTraits=function(){var t=this._traits;return Object.assign({},t)},ne.prototype._setTraits=function(t){t=t||{},this._traits=t},ne.prototype.identify=function(t,e){e=e||{};var r=this.id();null!==r&&r!==t||(e=ot(this.traits(),e)),t&&this.id(t),this.traits(e),this.save()},ne.prototype.save=function(){return!!this._options.persist&&(this._setId(this.id()),this._setTraits(this.traits()),!0)},ne.prototype.reset=function(){this.logout(),this.options({})},ne.prototype.load=function(){this.id(this.id()),this.traits(this.traits())},l.crypto&&crypto.getRandomValues){var oe=new Uint8Array(16);ee=function(){return crypto.getRandomValues(oe),oe}}if(!ee){var ie=new Array(16);ee=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),ie[e]=t>>>((3&e)<<3)&255;return ie}}for(var ae=ee,se=[],ue={},ce=0;ce<256;ce++)se[ce]=(ce+256).toString(16).substr(1),ue[se[ce]]=ce;function pe(t,e){var r=e||0,n=se;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}var le=ae(),fe=[1|le[0],le[1],le[2],le[3],le[4],le[5]],he=16383&(le[6]<<8|le[7]),ye=0,de=0;function ve(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||ae)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;i++)e[n+i]=o[i];return e||pe(o)}var me=ve;me.v1=function(t,e,r){var n=e&&r||0,o=e||[],i=void 0!==(t=t||{}).clockseq?t.clockseq:he,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),s=void 0!==t.nsecs?t.nsecs:de+1,u=a-ye+(s-de)/1e4;if(u<0&&void 0===t.clockseq&&(i=i+1&16383),(u<0||ye<a)&&void 0===t.nsecs&&(s=0),1e4<=s)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ye=a,he=i;var c=(1e4*(268435455&(a+=122192928e5))+(de=s))%4294967296;o[n++]=c>>>24&255,o[n++]=c>>>16&255,o[n++]=c>>>8&255,o[n++]=255&c;var p=a/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=255&p,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=i>>>8|128,o[n++]=255&i;for(var l=t.node||fe,f=0;f<6;f++)o[n+f]=l[f];return e||pe(o)},me.v4=ve,me.parse=function(t,e,r){var n=e&&r||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[n+o++]=ue[t])});o<16;)e[n+o++]=0;return e},me.unparse=pe;var ge=me;function be(t){this.defaults=be.defaults,re.call(this,t)}be.defaults={persist:!0,cookie:{key:"ajs_user_id"},localStorage:{key:"ajs_user_traits"}},e(be,re),be.prototype.id=function(t){var e=this._getId(),r=re.prototype.id.apply(this,arguments);return null==e||e!=t&&t&&this.anonymousId(null),r},be.prototype.anonymousId=function(t){var e=this.storage();return arguments.length?(e.set("ajs_anonymous_id",t),this._setAnonymousIdInLocalStorage(t),this):(t=e.get("ajs_anonymous_id"))?(this._setAnonymousIdInLocalStorage(t),e.set("ajs_anonymous_id",t),t):!this._options.localStorageFallbackDisabled&&(t=Kt.get("ajs_anonymous_id"))?(e.set("ajs_anonymous_id",t),t):(t=ge.v4(),e.set("ajs_anonymous_id",t),this._setAnonymousIdInLocalStorage(t),e.get("ajs_anonymous_id"))},be.prototype._setAnonymousIdInLocalStorage=function(t){this._options.localStorageFallbackDisabled||Kt.set("ajs_anonymous_id",t)},be.prototype.load=function(){re.prototype.load.call(this)};var we=at(new be),_e=be;we.User=_e;var xe=X.Identify,je=X.Page,ke=X.Track;function Ie(){this._options({}),this.Integrations={},this._integrations={},this._readied=!1,this._timeout=300,at(this)}i(Ie.prototype),Ie.prototype.use=function(t){return t(this),this},Ie.prototype.addIntegration=function(t){var e=t.prototype.name;if(!e)throw new TypeError("attempted to add an invalid integration");return this.Integrations[e]=t,this},Ie.prototype.init=Ie.prototype.initialize=function(r,i){r=r||{},i=i||{},this._options(i),this._readied=!1;var a=this;Bt(function(t,e){a.Integrations[e]||delete r[e]},r),Bt(function(t,e){if(!i.integrations||!1!==i.integrations[e]&&(!1!==i.integrations.All||i.integrations[e])){var r=a.Integrations[e],n={};ot(!0,n,t);var o=new r(n);a.add(o)}},r);var t=this._integrations;we.load();var e=Pt(t).length,n=tt(e,function(){a._readied=!0,a.emit("ready")});return e<=0&&n(),this.failedInitializations=[],Bt(function(e){i.initialPageview&&!1===e.options.initialPageview&&(e.page=tt(2,e.page)),e.analytics=a,e.once("ready",n);try{e.initialize()}catch(t){var r=e.name;a.failedInitializations.push(r),e.ready()}},t),this.emit("initialize",r,i),this},Ie.prototype.setAnonymousId=function(t){return this.user().anonymousId(t),this},Ie.prototype.add=function(t){return this._integrations[t.name]=t,this},Ie.prototype.identify=function(t,e,r,n){p.fn(r)&&(n=r,r=null),p.fn(e)&&(n=e,e=r=null),p.object(t)&&(r=e,e=t,t=we.id()),we.identify(t,e);var o=this.normalize({options:r,traits:we.traits(),userId:we.id()});return this.options.integrations&&xt(o.integrations,this.options.integrations),this._invoke("identify",new xe(o)),this.emit("identify",t,e,r),this._callback(n),this},Ie.prototype.user=function(){return we},Ie.prototype.track=function(t,e,r,n){p.fn(r)&&(n=r,r=null),p.fn(e)&&(n=e,e=r=null);var o=this.options.plan||{},i=o.track||{},a={},s=this.normalize({properties:e,options:r,event:t});(o=i[t])?a=!1===o.enabled?{All:!1,"Segment.io":!0}:o.integrations||{}:(i.__default||{enabled:!0}).enabled||(a={All:!1,"Segment.io":!0});return xt(s.integrations,this._mergeInitializeAndPlanIntegrations(a)),this._invoke("track",new ke(s)),this.emit("track",t,e,r),this._callback(n),this},Ie.prototype.exception=function(t,e,r,n){if(p.fn(r)&&(n=r,r=null),p.fn(e)&&(n=e,e=r=null),e instanceof Error){var o={};e.name&&(o.name=e.name),e.code&&(o.code=e.code),e.message&&(o.message=e.message),e.stack&&(o.stack=e.stack),e=o}var i=this.options.plan||{},a=i.track||{},s=this.normalize({properties:e,options:r,event:t});if(i=a[t]){if(!1===i.enabled)return this._callback(n);xt(s.integrations,i.integrations||{})}return this._invoke("exception",new ke(s)),this.emit("exception",t,e,r),this._callback(n),this},Ie.prototype.page=function(t,e,r,n,o){p.fn(n)&&(o=n,n=null),p.fn(r)&&(o=r,n=r=null),p.fn(e)&&(o=e,n=r=e=null),"object"===c(t)&&(n=e,r=t,e=t=null),"object"===c(e)&&(n=r,r=e,e=null),"string"===c(t)&&"string"!==c(e)&&(e=t,t=null),r=s(r)||{},e&&(r.name=e),t&&(r.category=t);var i=Vt();xt(r,i);var a=this.normalize({properties:r,category:t,options:n,name:e});return this.options.integrations&&xt(a.integrations,this.options.integrations),this._invoke("page",new je(a)),this.emit("page",t,e,r,n),this._callback(o),this},Ie.prototype.ready=function(t){return p.fn(t)&&(this._readied?nextTick(t):this.once("ready",t)),this},Ie.prototype._options=function(t){return t=t||{},this.options=t,Et.options(t.cookie),Kt.options(t.localStorage),we.options(t.user),this},Ie.prototype._callback=function(t){return p.fn(t)&&(this._timeout?setTimeout(t,this._timeout):nextTick(t)),this},Ie.prototype._invoke=function(r,n){this.emit("invoke",n);var o=this.failedInitializations||[];return Bt(function(t,e){if(n.enabled(e)&&!(0<=o.indexOf(e)))try{t.invoke.call(t,r,n)}catch(t){}},this._integrations),this},Ie.prototype.normalize=function(t){return(t=Ut(t,Pt(this._integrations))).anonymousId&&we.anonymousId(t.anonymousId),t.anonymousId=we.anonymousId(),t.context.page=xt(t.context.page||{},Vt()),t},Ie.prototype._mergeInitializeAndPlanIntegrations=function(t){if(!this.options.integrations)return t;var e,r=ot({},this.options.integrations);for(e in!1===t.All&&(r={All:!1}),t)t.hasOwnProperty(e)&&!1!==this.options.integrations[e]&&(r[e]=t[e]);return r};var Oe=Ie,Ee=ge.v4;Oe.uuid=Ee;var Ae=function(n,t){if("function"!=typeof n)throw new TypeError("`predicate` must be a function but was a "+typeof n);var o=!0;return Bt(function(t,e,r){if(!(o=!!n(t,e,r)))return!1},t),o},Te=l.JSON&&"function"==typeof JSON.stringify?JSON.stringify:String;function Se(t){var r=Array.prototype.slice.call(arguments,1),n=0;return t.replace(/%([a-z])/gi,function(t,e){return Se[e]?Se[e](r[n++]):t+e})}Se.o=Te,Se.s=String,Se.d=parseInt;function ze(t,e){return t.addEventListener?function(r,n){r.addEventListener("load",function(t,e){n(null,e)},!1),r.addEventListener("error",function(t){var e=new Error('script error "'+r.src+'"');e.event=t,n(e)},!1)}(t,e):function(r,n){r.attachEvent("onreadystatechange",function(t){/complete|loaded/.test(r.readyState)&&n(null,t)}),r.attachEvent("onerror",function(t){var e=new Error('failed to load the script "'+r.src+'"');e.event=t||window.event,n(e)})}(t,e)}var Ce,Ne,Le=Se,De=function(n,o,t){if("function"!=typeof n)throw new TypeError("Expected a function but received a "+typeof n);return Bt(function(t,e,r){o=n(o,t,e,r)},t),o};Ce=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},Ne=function(t){var e,r=document.createTextNode(""),n=0;return new t(function(){var t;e&&(t=e,e=null,"function"!=typeof t?t.forEach(function(t){t()}):t())}).observe(r,{characterData:!0}),function(t){Ce(t),e?"function"==typeof e?e=[e,t]:e.push(t):(e=t,r.data=n=++n%2)}};var Pe=function(){if("undefined"!=typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return Ne(MutationObserver);if("function"==typeof WebKitMutationObserver)return Ne(WebKitMutationObserver)}return"function"==typeof setImmediate?function(t){setImmediate(Ce(t))}:"function"==typeof setTimeout?function(t){setTimeout(Ce(t),0)}:null}();var qe=function(t,e){if(!t)throw new Error("Can't load nothing...");"string"===c(t)&&(t={src:t});var r="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=(r?"https:":"http:")+t.src),r&&t.https?t.src=t.https:!r&&t.http&&(t.src=t.http);var n=document.createElement("script");return n.type="text/javascript",n.async=!0,n.src=t.src,"function"===c(e)&&ze(n,e),Pe(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}),n},$e=function(t){return Be.test(t)?t.toLowerCase():Me.test(t)?(function(t){return t.replace(Fe,function(t,e){return e?" "+e:""})}(t)||t).toLowerCase():function(t){return t.replace(Re,function(t,e,r){return e+" "+r.toLowerCase().split("").join(" ")})}(t).toLowerCase()},Be=/\s/,Me=/[\W_]/;var Fe=/[\W_]+(.|$)/g;var Re=/(.)([A-Z]+)/g;var Ze,Ue=t(function(t,e){function a(){}var r=Object.prototype.hasOwnProperty,n=window.onerror;function o(t){return!!p.object(t)&&(!!p.string(t.key)&&!!r.call(t,"value"))}i(e),e.initialize=function(){var t=this.ready;Pe(t)},e.loaded=function(){return!1},e.page=function(t){},e.track=function(t){},e.map=function(t,e){var i=$e(e),a=function(t){if(p.array(t))return Ae(o,t)?"mixed":"array";return p.object(t)?"map":"unknown"}(t);return"unknown"===a?[]:De(function(t,e,r){var n,o;return"map"===a&&(n=r,o=e),"array"===a&&(o=n=e),"mixed"===a&&(n=e.key,o=e.value),$e(n)===i&&t.push(o),t},[],t)},e.invoke=function(t){if(this[t]){var e=Array.prototype.slice.call(arguments,1);return this._ready?this[t].apply(this,e):this.queue(t,e)}},e.queue=function(t,e){this._queue.push({method:t,args:e})},e.flush=function(){this._ready=!0;var e=this;Bt(function(t){e[t.method].apply(e,t.args)},this._queue),this._queue.length=0},e.reset=function(){for(var t=0;t<this.globals.length;t++)window[this.globals[t]]=void 0;window.onerror=n,window.onload=null},e.load=function(t,e,r){"function"==typeof t&&(r=t,t=e=null),t&&"object"==typeof t&&(r=e,e=t,t=null),"function"==typeof e&&(r=e,e=null),t=t||"library",e=e||{},e=this.locals(e);var n=this.templates[t];if(!n)throw new Error(Le('template "%s" not defined.',t));var o,i=function(t,n){return De(function(t,e,r){return t[r]=e.replace(/\{\{\ *(\w+)\ *\}\}/g,function(t,e){return n[e]}),t},{},t.attrs)}(n,e);switch(r=r||a,n.type){case"img":i.width=1,i.height=1,o=function(t,e){e=e||function(){};var r=new Image;return r.onerror=function(r,n,o){return function(t){t=t||window.event;var e=new Error(n);e.event=t,e.source=o,r(e)}}(e,"failed to load pixel",r),r.onload=function(){e()},r.src=t.src,r.width=1,r.height=1,r}(i,r);break;case"script":o=qe(i,function(t){if(!t)return r()}),delete i.src,Bt(function(t,e){o.setAttribute(e,t)},i);break;case"iframe":o=function(t,e){if(!t)throw new Error("Cant load nothing...");p.string(t)&&(t={src:t});var r="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=r?"https:"+t.src:"http:"+t.src),r&&t.https?t.src=t.https:!r&&t.http&&(t.src=t.http);var n=document.createElement("iframe");return n.src=t.src,n.width=t.width||1,n.height=t.height||1,n.style.display="none",p.fn(e)&&ze(n,e),Pe(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}),n}(i,r)}return o},e.locals=function(r){r=r||{};var t=Math.floor((new Date).getTime()/36e5);return r.hasOwnProperty("cache")||(r.cache=t),Bt(function(t,e){r.hasOwnProperty(e)||(r[e]=t)},this.options),r},e.ready=function(){this.emit("ready")},e._wrapInitialize=function(){var e=this.initialize;this.initialize=function(){this._initialized=!0;var t=e.apply(this,arguments);return this.emit("initialize"),t}},e._wrapPage=function(){var t=this.page,e=!1;this.page=function(){if(!this._assumesPageview||e)return t.apply(this,arguments);e=!0}},e._wrapTrack=function(){var e=this.track;this.track=function(t){t.event();return e.apply(this,arguments)}}}),Je=(Ue.initialize,Ue.loaded,Ue.page,Ue.track,Ue.map,Ue.invoke,Ue.queue,Ue.flush,Ue.reset,Ue.load,Ue.locals,Ue.ready,Ue._wrapInitialize,Ue._wrapPage,Ue._wrapTrack,function(t,e){if("string"!=typeof t)throw new TypeError("String expected");e=e||document;var r=/<([\w:]+)/.exec(t);if(!r)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var n=r[1];if("body"==n){return(o=e.createElement("html")).innerHTML=t,o.removeChild(o.lastChild)}var o,i=Ve[n]||Ve._default,a=i[0],s=i[1],u=i[2];(o=e.createElement("div")).innerHTML=s+t+u;for(;a--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);var c=e.createDocumentFragment();for(;o.firstChild;)c.appendChild(o.removeChild(o.firstChild));return c}),He=!1;"undefined"!=typeof document&&((Ze=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',He=!Ze.getElementsByTagName("link").length,Ze=void 0);var Ve={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:He?[1,"X<div>","</div>"]:[0,"",""]};Ve.td=Ve.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Ve.option=Ve.optgroup=[1,'<select multiple="multiple">',"</select>"],Ve.thead=Ve.tbody=Ve.colgroup=Ve.caption=Ve.tfoot=[1,"<table>","</table>"],Ve.polyline=Ve.ellipse=Ve.polygon=Ve.circle=Ve.text=Ve.line=Ve.path=Ve.rect=Ve.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var We=t(function(t,e){i(e),e.option=function(t,e){return this.prototype.defaults[t]=e,this},e.mapping=function(e){return this.option(e,[]),this.prototype[e]=function(t){return this.map(this.options[e],t)},this},e.global=function(t){return this.prototype.globals.push(t),this},e.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},e.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},e.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},e.tag=function(t,e){return null==e&&(e=t,t="library"),this.prototype.templates[t]=function(r){r=r.replace(' src="',' data-src="');var t=Je(r),n={};return Bt(function(t){var e="data-src"===t.name?"src":t.name;Ft(t.name+"=",r)&&(n[e]=t.value)},t.attributes),{type:t.tagName.toLowerCase(),attrs:n}}(e),this}});We.option,We.mapping,We.global,We.assumesPageview,We.readyOnLoad,We.readyOnInitialize,We.tag;function Xe(t){function r(t){if(t&&t.addIntegration)return t.addIntegration(r);var e={};ot(!0,e,t),this.options=xt(e,this.defaults),this._queue=[],this.once("ready",W(this,this.flush)),r.emit("construct",this),this.ready=W(this,this.ready),this._wrapInitialize(),this._wrapPage(),this._wrapTrack()}return r.prototype.defaults={},r.prototype.globals=[],r.prototype.templates={},r.prototype.name=t,ot(r,We),ot(r.prototype,Ue),r}var Ke=new Oe;return Ke.VERSION="3.8.2",Ke.createIntegration=Xe,Ke}();